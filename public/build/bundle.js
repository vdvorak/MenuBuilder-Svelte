var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function a(t){let e;return l(t,(t=>e=t))(),e}function c(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function d(){return $(" ")}function g(){return $("")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let y;function w(t){y=t}function v(){const t=function(){if(!y)throw new Error("Function called outside component initialization");return y}();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(e,n,{cancelable:o});return r.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const x=[],_=[],k=[],N=[],S=Promise.resolve();let O=!1;function j(t){k.push(t)}const E=new Set;let V=0;function C(){if(0!==V)return;const t=y;do{try{for(;V<x.length;){const t=x[V];V++,w(t),A(t.$$)}}catch(t){throw x.length=0,V=0,t}for(w(null),x.length=0,V=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];E.has(e)||(E.add(e),e())}k.length=0}while(x.length);for(;N.length;)N.pop()();O=!1,E.clear(),w(t)}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}const R=new Set;let J;function D(){J={r:0,c:[],p:J}}function P(){J.r||o(J.c),J=J.p}function z(t,e){t&&t.i&&(R.delete(t),t.i(e))}function L(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),J.c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function B(t){t&&t.c()}function T(t,n,s,l){const{fragment:a,after_update:c}=t.$$;a&&a.m(n,s),l||j((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),c.forEach(j)}function q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,S.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(e,r,s,l,a,c,i,f=[-1]){const p=y;w(e);const h=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||p.$$.root};i&&i(h.root);let $=!1;if(h.ctx=s?s(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),$&&I(e,t)),n})):[],h.update(),$=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&z(e.$$.fragment),T(e,r.target,r.anchor,r.customElement),C()}w(p)}class U{$destroy(){q(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function F(e){let n,o,r;return{c(){n=p("button"),n.textContent="❌",b(n,"class","delete")},m(t,s){i(t,n,s),o||(r=m(n,"click",e[6]),o=!0)},p:t,i:t,o:t,d(t){t&&u(n),o=!1,r()}}}function H(e,n,o){let r,s=t;e.$$.on_destroy.push((()=>s()));let{store:a}=n,{path:c}=n;const i=[...c],u=i.pop();let f;return e.$$set=t=>{"store"in t&&o(0,a=t.store),"path"in t&&o(5,c=t.path)},e.$$.update=()=>{1&e.$$.dirty&&(o(1,f=a.getRef(i)),s(),s=l(f,(t=>o(2,r=t))))},[a,f,r,i,u,c,t=>a.setValue(i,[...r.filter(((t,e)=>e!=u))])]}class K extends U{constructor(t){super(),M(this,t,H,F,s,{store:0,path:5})}}function G(e){let n,o,r,s,l;return{c(){n=p("input"),b(n,"name",o=e[1].join("-")),b(n,"id",r=e[1].join("-")),b(n,"placeholder",e[3]),b(n,"type",e[4]),b(n,"class",e[2]),n.value=e[6]},m(t,o){i(t,n,o),s||(l=m(n,"input",e[7]),s=!0)},p(t,[e]){2&e&&o!==(o=t[1].join("-"))&&b(n,"name",o),2&e&&r!==(r=t[1].join("-"))&&b(n,"id",r),8&e&&b(n,"placeholder",t[3]),16&e&&b(n,"type",t[4]),4&e&&b(n,"class",t[2]),64&e&&n.value!==t[6]&&(n.value=t[6])},i:t,o:t,d(t){t&&u(n),s=!1,l()}}}function Q(e,n,o){let r,s,a=t;e.$$.on_destroy.push((()=>a()));let{store:c}=n,{path:i}=n,{className:u=""}=n,{placeholder:f=""}=n,{type:p="text"}=n;return e.$$set=t=>{"store"in t&&o(0,c=t.store),"path"in t&&o(1,i=t.path),"className"in t&&o(2,u=t.className),"placeholder"in t&&o(3,f=t.placeholder),"type"in t&&o(4,p=t.type)},e.$$.update=()=>{3&e.$$.dirty&&(o(5,r=c.getRef(i)),a(),a=l(r,(t=>o(6,s=t))))},[c,i,u,f,p,r,s,t=>c.setValue(i,t.target.value)]}class W extends U{constructor(t){super(),M(this,t,Q,G,s,{store:0,path:1,className:2,placeholder:3,type:4})}}function X(t){let e,n,o,r,s,l,a,f,h,$,g,m,y;return n=new W({props:{placeholder:"Před",store:t[0],path:[...t[1],"before"]}}),r=new W({props:{placeholder:"Název",store:t[0],path:[...t[1],"title"]}}),l=new W({props:{type:"number",placeholder:"Cena",store:t[0],path:[...t[1],"price"]}}),f=new W({props:{placeholder:"Alergeny",store:t[0],path:[...t[1],"alergens"]}}),$=new W({props:{placeholder:"Jednotka",store:t[0],path:[...t[1],"unit"]}}),m=new K({props:{store:t[0],path:t[1]}}),{c(){e=p("div"),B(n.$$.fragment),o=d(),B(r.$$.fragment),s=d(),B(l.$$.fragment),a=d(),B(f.$$.fragment),h=d(),B($.$$.fragment),g=d(),B(m.$$.fragment),b(e,"class","item")},m(t,u){i(t,e,u),T(n,e,null),c(e,o),T(r,e,null),c(e,s),T(l,e,null),c(e,a),T(f,e,null),c(e,h),T($,e,null),c(e,g),T(m,e,null),y=!0},p(t,[e]){const o={};1&e&&(o.store=t[0]),2&e&&(o.path=[...t[1],"before"]),n.$set(o);const s={};1&e&&(s.store=t[0]),2&e&&(s.path=[...t[1],"title"]),r.$set(s);const a={};1&e&&(a.store=t[0]),2&e&&(a.path=[...t[1],"price"]),l.$set(a);const c={};1&e&&(c.store=t[0]),2&e&&(c.path=[...t[1],"alergens"]),f.$set(c);const i={};1&e&&(i.store=t[0]),2&e&&(i.path=[...t[1],"unit"]),$.$set(i);const u={};1&e&&(u.store=t[0]),2&e&&(u.path=t[1]),m.$set(u)},i(t){y||(z(n.$$.fragment,t),z(r.$$.fragment,t),z(l.$$.fragment,t),z(f.$$.fragment,t),z($.$$.fragment,t),z(m.$$.fragment,t),y=!0)},o(t){L(n.$$.fragment,t),L(r.$$.fragment,t),L(l.$$.fragment,t),L(f.$$.fragment,t),L($.$$.fragment,t),L(m.$$.fragment,t),y=!1},d(t){t&&u(e),q(n),q(r),q(l),q(f),q($),q(m)}}}function Y(t,e,n){let{store:o}=e,{path:r}=e;return t.$$set=t=>{"store"in t&&n(0,o=t.store),"path"in t&&n(1,r=t.path)},[o,r]}class Z extends U{constructor(t){super(),M(this,t,Y,X,s,{store:0,path:1})}}const tt=["","1.","2.","3.","4.","5.","6.","7.","De","D",""],et=["","129","139","149","159","169","185","69","49"],nt="Kč";function ot(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function rt(t){let e,n;return e=new Z({props:{store:t[0],path:[...t[1],"items",t[8]]}}),{c(){B(e.$$.fragment)},m(t,o){T(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.store=t[0]),2&n&&(o.path=[...t[1],"items",t[8]]),e.$set(o)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function st(t){let e,n,o,r,s,l,a,h,g,y,w,v,x,_,k,N,S,O;o=new W({props:{className:"section-title",store:t[0],path:[...t[1],"title"]}}),h=new W({props:{type:"checkbox",store:t[0],path:[...t[1],"beforeAsServing"]}}),_=new K({props:{store:t[0],path:t[1]}});let j=t[3],E=[];for(let e=0;e<j.length;e+=1)E[e]=rt(ot(t,j,e));const V=t=>L(E[t],1,1,(()=>{E[t]=null}));return{c(){e=p("div"),n=p("div"),B(o.$$.fragment),r=d(),s=p("button"),s.textContent="Přidat položku",l=d(),a=p("div"),B(h.$$.fragment),g=d(),y=p("label"),w=$("Porce"),x=d(),B(_.$$.fragment),k=d();for(let t=0;t<E.length;t+=1)E[t].c();b(y,"for",v=[...t[1],"beforeAsServing"].join("-")),b(a,"class","checkbox"),b(n,"class","section-row"),b(e,"class","section")},m(u,f){i(u,e,f),c(e,n),T(o,n,null),c(n,r),c(n,s),c(n,l),c(n,a),T(h,a,null),c(a,g),c(a,y),c(y,w),c(e,x),T(_,e,null),c(e,k);for(let t=0;t<E.length;t+=1)E[t].m(e,null);N=!0,S||(O=m(s,"click",t[5]),S=!0)},p(t,[n]){const r={};1&n&&(r.store=t[0]),2&n&&(r.path=[...t[1],"title"]),o.$set(r);const s={};1&n&&(s.store=t[0]),2&n&&(s.path=[...t[1],"beforeAsServing"]),h.$set(s),(!N||2&n&&v!==(v=[...t[1],"beforeAsServing"].join("-")))&&b(y,"for",v);const l={};if(1&n&&(l.store=t[0]),2&n&&(l.path=t[1]),_.$set(l),11&n){let o;for(j=t[3],o=0;o<j.length;o+=1){const r=ot(t,j,o);E[o]?(E[o].p(r,n),z(E[o],1)):(E[o]=rt(r),E[o].c(),z(E[o],1),E[o].m(e,null))}for(D(),o=j.length;o<E.length;o+=1)V(o);P()}},i(t){if(!N){z(o.$$.fragment,t),z(h.$$.fragment,t),z(_.$$.fragment,t);for(let t=0;t<j.length;t+=1)z(E[t]);N=!0}},o(t){L(o.$$.fragment,t),L(h.$$.fragment,t),L(_.$$.fragment,t),E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)L(E[t]);N=!1},d(t){t&&u(e),q(o),q(h),q(_),f(E,t),S=!1,O()}}}function lt(e,n,o){let r,s=t;e.$$.on_destroy.push((()=>s()));let a,{store:c}=n,{path:i}=n;function u(t){c.setValue([...i,"items"],[...c.getValue([...i,"items"]),{before:tt[t],title:"",alergens:"",price:et[t],unit:nt}])}return e.$$set=t=>{"store"in t&&o(0,c=t.store),"path"in t&&o(1,i=t.path)},e.$$.update=()=>{3&e.$$.dirty&&(o(2,a=c.getRef([...i,"items"])),s(),s=l(a,(t=>o(3,r=t))))},[c,i,a,r,u,t=>u(r.length)]}class at extends U{constructor(t){super(),M(this,t,lt,st,s,{store:0,path:1})}}function ct(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function it(t){let e,n;return e=new at({props:{store:t[0],path:[...t[1],"sections",t[8]]}}),{c(){B(e.$$.fragment)},m(t,o){T(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.store=t[0]),2&n&&(o.path=[...t[1],"sections",t[8]]),e.$set(o)},i(t){n||(z(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ut(t){let e,n,o,r,s,l,a,h,$,g,y;o=new W({props:{className:"page-title",store:t[0],path:[...t[1],"title"]}}),a=new K({props:{store:t[0],path:t[1]}});let w=t[3],v=[];for(let e=0;e<w.length;e+=1)v[e]=it(ct(t,w,e));const x=t=>L(v[t],1,1,(()=>{v[t]=null}));return{c(){e=p("div"),n=p("div"),B(o.$$.fragment),r=d(),s=p("button"),s.textContent="Přidat sekci",l=d(),B(a.$$.fragment),h=d();for(let t=0;t<v.length;t+=1)v[t].c();b(n,"class","row"),b(e,"class","page")},m(u,f){i(u,e,f),c(e,n),T(o,n,null),c(n,r),c(n,s),c(n,l),T(a,n,null),c(e,h);for(let t=0;t<v.length;t+=1)v[t].m(e,null);$=!0,g||(y=m(s,"click",t[5]),g=!0)},p(t,[n]){const r={};1&n&&(r.store=t[0]),2&n&&(r.path=[...t[1],"title"]),o.$set(r);const s={};if(1&n&&(s.store=t[0]),2&n&&(s.path=t[1]),a.$set(s),11&n){let o;for(w=t[3],o=0;o<w.length;o+=1){const r=ct(t,w,o);v[o]?(v[o].p(r,n),z(v[o],1)):(v[o]=it(r),v[o].c(),z(v[o],1),v[o].m(e,null))}for(D(),o=w.length;o<v.length;o+=1)x(o);P()}},i(t){if(!$){z(o.$$.fragment,t),z(a.$$.fragment,t);for(let t=0;t<w.length;t+=1)z(v[t]);$=!0}},o(t){L(o.$$.fragment,t),L(a.$$.fragment,t),v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)L(v[t]);$=!1},d(t){t&&u(e),q(o),q(a),f(v,t),g=!1,y()}}}function ft(e,n,o){let r,s=t;e.$$.on_destroy.push((()=>s()));let a,{store:c}=n,{path:i}=n;function u(){c.setValue([...i,"sections"],[...c.getValue([...i,"sections"]),{title:"Added section",items:[]}])}return e.$$set=t=>{"store"in t&&o(0,c=t.store),"path"in t&&o(1,i=t.path)},e.$$.update=()=>{3&e.$$.dirty&&(o(2,a=c.getRef([...i,"sections"])),s(),s=l(a,(t=>o(3,r=t))))},[c,i,a,r,u,t=>u()]}class pt extends U{constructor(t){super(),M(this,t,ft,ut,s,{store:0,path:1})}}const ht=[];function $t(e,n=t){let o;const r=new Set;function l(t){if(s(e,t)&&(e=t,o)){const t=!ht.length;for(const t of r)t[1](),ht.push(t,e);if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,a=t){const c=[s,a];return r.add(c),1===r.size&&(o=n(l)||t),s(e),()=>{r.delete(c),0===r.size&&(o(),o=null)}}}}function dt(e,n,s){const a=!Array.isArray(e),c=a?[e]:e,i=n.length<2;return u=e=>{let s=!1;const u=[];let f=0,p=t;const h=()=>{if(f)return;p();const o=n(a?u[0]:u,e);i?e(o):p=r(o)?o:t},$=c.map(((t,e)=>l(t,(t=>{u[e]=t,f&=~(1<<e),s&&h()}),(()=>{f|=1<<e}))));return s=!0,h(),function(){o($),p()}},{subscribe:$t(s,u).subscribe};var u}class gt{constructor(t){this._store=$t({}),this.loaded=$t(!1),t((t=>{this._store.set(t),this.defaultData=JSON.parse(JSON.stringify(t)),this.loaded.set(!0)}))}setValue(t,e){const n=t[[t.length-1]],o={...a(this.getData())};t.slice(0,-1).reduce(((t,e)=>t[e]),o)[n]=e,this._store.set(o)}getRef(t){return dt(this._store,(e=>t.reduce(((t,e)=>t&&t[e]),e)))}getValue(t){return a(this.getRef(t))}getDefaultValue(t){return t.reduce(((t,e)=>t&&t[e]),this.defaultData)}isChanged(t){return JSON.stringify(this.getValue(t))!==JSON.stringify(this.getDefaultValue(t))}get isDirty(){return JSON.stringify(this.getData())!==JSON.stringify(this.defaultData)}getData(){return dt(this._store,(t=>t))}subscribe(t){this._store.subscribe(t)}}function mt(t){yt(t);const e=new Blob([JSON.stringify(t)],{type:"application/json;charset=utf-8;"});return window.URL.createObjectURL(e)}function bt(t){yt(t);let e="";t.forEach(((t,n)=>{e+=(n>0?"\n\n\n":"")+t.title+"\n\n",t.sections.forEach(((t,n)=>{e+=(n>0?"\n\n":"")+t.title+"\n\n",t.items.forEach((t=>{e+=`${t.before} ${t.title} ${t.alergens}\n`}))}))})),e+="\n\n\nAlergeny: 1.Lepek, 2.Korýši, 3.Vejce, 4.Ryby, 5.Arašídy, 6.Sója, 7.Mléko, 8.Skořábkové plody,\n",e+="9.Celer, 10. hořčice, 11.Sezam, 12.Oxid siřičitý a siřičitany, 13.Vlčí bob,14.Měkkýši";const n=new Blob([e],{type:"text/plain"});return window.URL.createObjectURL(n)}function yt(t){fetch("state.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({requestId:"upload",pages:t})}).catch((t=>console.log(t)))}function wt(t){fetch("state.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({requestId:"download"})}).then((t=>t.json())).then((e=>t({pages:e}))).catch((t=>console.log(t)))}function vt(e){let n,o,r,s,l,a,f,g,y,w,v;return{c(){n=p("div"),o=p("input"),r=d(),s=p("label"),l=h("svg"),a=h("path"),f=d(),g=p("span"),y=$(e[0]),b(o,"name","file-input"),b(o,"id","file-input"),b(o,"type","file"),b(o,"class","file-input__input data-color"),b(a,"fill","currentColor"),b(a,"d","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"),b(l,"aria-hidden","true"),b(l,"focusable","false"),b(l,"data-prefix","fas"),b(l,"role","img"),b(l,"xmlns","http://www.w3.org/2000/svg"),b(l,"viewBox","0 0 512 512"),b(s,"class","file-input__label data-color"),b(s,"for","file-input"),b(n,"class","file-input")},m(t,u){i(t,n,u),c(n,o),c(n,r),c(n,s),c(s,l),c(l,a),c(s,f),c(s,g),c(g,y),w||(v=m(o,"change",e[1]),w=!0)},p(t,[e]){1&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(y,t[0])},i:t,o:t,d(t){t&&u(n),w=!1,v()}}}function xt(t,e,n){let{label:o}=e;const r=v();return t.$$set=t=>{"label"in t&&n(0,o=t.label)},[o,function(t){r("upload",t)}]}class _t extends U{constructor(t){super(),M(this,t,xt,vt,s,{label:0})}}function kt(t,e,n){const o=t.slice();return o[8]=e[n],o[10]=n,o}function Nt(t){let e,n,r,s,l,a,h,y,w,v,x,_,k,N,S,O,j,E,V,C,A,R,J,I;l=new _t({props:{label:"Import"}}),l.$on("upload",t[6]);let M=t[3],U=[];for(let e=0;e<M.length;e+=1)U[e]=St(kt(t,M,e));const F=t=>L(U[t],1,1,(()=>{U[t]=null}));return{c(){e=p("div"),n=p("div"),r=p("div"),s=p("div"),B(l.$$.fragment),a=d(),h=p("a"),y=$("Export"),v=d(),x=p("div"),_=p("a"),k=$(".txt"),S=d(),O=p("button"),O.textContent=".pdf",j=d(),E=p("div"),V=p("button"),V.textContent="Přidat stránku",C=d();for(let t=0;t<U.length;t+=1)U[t].c();A=g(),b(h,"class","data-color"),b(h,"download","menu.json"),b(h,"href",w=mt(t[3])),b(s,"class","row"),b(_,"class","data-color"),b(_,"download","menu.txt"),b(_,"href",N=bt(t[3])),b(O,"class","data-color"),b(x,"class","row"),b(r,"class","exports"),b(E,"class","row"),b(n,"class","container"),b(e,"class","header")},m(o,u){i(o,e,u),c(e,n),c(n,r),c(r,s),T(l,s,null),c(s,a),c(s,h),c(h,y),c(r,v),c(r,x),c(x,_),c(_,k),c(x,S),c(x,O),c(n,j),c(n,E),c(E,V),i(o,C,u);for(let t=0;t<U.length;t+=1)U[t].m(o,u);i(o,A,u),R=!0,J||(I=[m(O,"click",t[7]),m(V,"click",t[5])],J=!0)},p(t,e){if((!R||8&e&&w!==(w=mt(t[3])))&&b(h,"href",w),(!R||8&e&&N!==(N=bt(t[3])))&&b(_,"href",N),24&e){let n;for(M=t[3],n=0;n<M.length;n+=1){const o=kt(t,M,n);U[n]?(U[n].p(o,e),z(U[n],1)):(U[n]=St(o),U[n].c(),z(U[n],1),U[n].m(A.parentNode,A))}for(D(),n=M.length;n<U.length;n+=1)F(n);P()}},i(t){if(!R){z(l.$$.fragment,t);for(let t=0;t<M.length;t+=1)z(U[t]);R=!0}},o(t){L(l.$$.fragment,t),U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)L(U[t]);R=!1},d(t){t&&u(e),q(l),t&&u(C),f(U,t),t&&u(A),J=!1,o(I)}}}function St(e){let n,o;return n=new pt({props:{store:e[4],path:["pages",e[10]]}}),{c(){B(n.$$.fragment)},m(t,e){T(n,t,e),o=!0},p:t,i(t){o||(z(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){q(n,t)}}}function Ot(t){let e,n,o=t[0]&&Nt(t);return{c(){o&&o.c(),e=g()},m(t,r){o&&o.m(t,r),i(t,e,r),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&z(o,1)):(o=Nt(t),o.c(),z(o,1),o.m(e.parentNode,e)):o&&(D(),L(o,1,1,(()=>{o=null})),P())},i(t){n||(z(o),n=!0)},o(t){L(o),n=!1},d(t){o&&o.d(t),t&&u(e)}}}function jt(e,n,o){let r,s,a=t,c=t;e.$$.on_destroy.push((()=>a())),e.$$.on_destroy.push((()=>c()));const i=new gt(wt);let u,f;return e.$$.update=()=>{1&e.$$.dirty&&(o(1,u=i.loaded),c(),c=l(u,(t=>o(0,s=t))),s&&(o(2,f=i.getRef(["pages"])),a(),a=l(f,(t=>o(3,r=t)))))},[s,u,f,r,i,function(t){i.setValue(["pages"],[...r,{title:"Nová stránka",sections:[]}])},t=>{!function(t,e){const n=new FileReader;n.onload=e,n.readAsText(t)}(t.detail.target.files[0],(t=>i.setValue(["pages"],JSON.parse(t.target.result))))},t=>function(t){yt(t),fetch("menu.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({pages:t,requestId:"create"})}).then((t=>{200==t.status&&window.open(`${window.location.protocol}//${window.location.host}/menu.pdf`,"_blank")})).catch((t=>console.log(t)))}(r)]}return new class extends U{constructor(t){super(),M(this,t,jt,Ot,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
